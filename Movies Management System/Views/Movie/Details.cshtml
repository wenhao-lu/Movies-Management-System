@model Movies_Management_System.Models.ViewModels.DetailsMovie
@{
    ViewBag.Title = "View";
}

<h1>Movies Management System</h1>
<h3>Movie Details</h3>

<div id="btnContainer">
    <div id="backBtn">
        <a href="/Movie/List">Back</a>
    </div>
    <div id="editBtn">
        <a href="/Movie/Edit/@Model.SelectedMovie.MovieID">Update</a>
    </div>
    <div id="delBtn">
        <a style="color:#ab2020;" href="/Movie/DeleteConfirm/@Model.SelectedMovie.MovieID">Delete</a>
    </div>
</div>

<table id="MovieDetailsTable">
    <tr>
        <th id="trID">Movie ID</th>
        <th id="trPubYear">Publication Year</th>
        <th id="trTitle">Title</th>
        <th id="trDirector">Director</th>
        <th id="trRatings">Ratings</th>
        <th id="trGenre">Genre</th>
    </tr>
    <tr>
        <td id="tdID">@Model.SelectedMovie.MovieID</td>
        <td id="tdTitle">@Model.SelectedMovie.PubYear</td>
        <td id="tdPubYear">@Model.SelectedMovie.MovieTitle</td>
        <td id="tdDirector">@Model.SelectedMovie.Director</td>
        <td id="tdRatings">@Model.SelectedMovie.Ratings</td>
        <td id="tdGenre">@Model.SelectedMovie.GenreName</td>
    </tr>
</table>
    <div>
        <h3>Clients Love "@Model.SelectedMovie.MovieTitle"</h3>
        <div class="clientsContainer">
            @foreach (var Client in Model.ResponsibleClients)
                {
                    <a href="/Client/Details/@Client.ClientID">@Client.ClientName @Client.ClientLocation</a> <a style="color:#ab2020;" href="/Movie/Unassociate/@Model.SelectedMovie.MovieID?ClientID=@Client.ClientID">[x]</a>
                }
        </div>
        <div class="addFav">
            <h4>Add a new client who loves "@Model.SelectedMovie.MovieTitle"</h4>
            <form method="POST" action="/Movie/Associate/@Model.SelectedMovie.MovieID">
                <select name="ClientID">
                    @foreach (var Client in Model.AvailableClients)
                    {
                        <option value="@Client.ClientID">@Client.ClientName @Client.ClientLocation</option>
                    }

                </select>
                <input type="submit" value="Link Client" id="linkBtn"/>
            </form>
        </div>
    </div>

    <style>
        h1 {
            font-family: 'Ubuntu', sans-serif;
            font-weight: bold 700;
            /*color: white;}*/
            margin-top: 2em;
            margin-bottom: 0;
            text-align: center;
        }

        h3 {
            font-family: 'Ubuntu', sans-serif;
            font-weight: bold 400;
            /*color: white;}*/
            margin: 1em auto;
            text-align: center;
        }

        #btnContainer {
            display: flex;
            flex-flow: row;
            justify-content: center;
        }

        #backBtn {
            border: 1px solid;
            border-radius: 5px;
            margin-top: 1em;
            padding: 0.3em 1em;
            color: gray;
        }

        #editBtn {
            border: 1px solid;
            border-radius: 5px;
            margin: 1em 4em 0 4em;
            padding: 0.3em 1em;
            color: blue;
        }

        #delBtn {
            border: 1px solid;
            border-radius: 5px;
            margin-top: 1em;
            padding: 0.3em 1em;
            color: red;
        }
        #linkBtn {
            color: green;
        }
        th, td {
            border: 1px solid black;
        }

        #trID, #tdID, #trGenre, #tdGenre {
            width: 100px;
            text-align: center;
        }

        #trTitle, #tdTitle {
            width: 340px;
            text-align: center;
        }

        #trDirector, #tdDirector {
            width: 240px;
            text-align: center;
        }

        #trPubYear, #tdPubYear {
            width: 150px;
            text-align: center;
        }

        #trRatings, #tdRatings {
            width: 80px;
            text-align: center;
        }
        #MovieDetailsTable{
            margin-top:2em;
        }
        .clientsContainer {
            display: flex;
            flex-flow: row wrap;
            justify-content: center;
        }
        .addFav{
            text-align:center;
        }
    </style>
